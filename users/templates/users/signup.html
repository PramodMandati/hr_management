{% extends 'index.html' %}
{% load crispy_forms_tags %}
{% load widget_tweaks %}

{% block title %}
<title>Sign UP Page</title>
{% endblock %}

{% block style %}
<style>
    body{
        background-color:#E8F1F2;
    }
    .box{
        border-radius:5px;
        box-shadow:0px 0px 5px 0px black;
        background-color:white;
    }
    input{
        autocomplete:off;
    }
    .asteriskField {
        display: none;
    }

</style>
{% endblock %}lo

{% block main %}
<div class="container">
    <div class="box mt-5 p-4">
        <form method="post" autocomplete="nope">
            {% csrf_token %}
            <div class="form-group">
                {{form.email|attr:"autocomplete:off"|as_crispy_field}}
            </div>
            <div class="form-group">
                {{form.username|attr:"autocomplete:off"|as_crispy_field}}
            </div>
            <div class="form-group">
                {{form.password|attr:"autocomplete:off"|as_crispy_field}}
                <span id="help_password"></span>
            </div>
            <button class="btn btn-success btn-block">Sign UP</button>
        </form>
        <br/>
        <a class="btn btn-secondary btn-block" href="{% url 'users_app:users_login_page' %}">Back to Login</a>
    </div>
</div>
{% endblock %}


{% block script %}
<!--<script>-->
<!--    var validPassword = (password) => {-->
<!--        if(password.length<8)-->
<!--            return false;-->
<!--        let upperCase = false, lowerCase = false, digits = false;-->
<!--        for(i=0;i<password.length;i++){-->
<!--            let val = password.charCodeAt(i);-->
<!--            if(val>=65 && val<=90)-->
<!--                upperCase = true;-->
<!--            else if(val>=90 && val<=122)-->
<!--                lowerCase = true;-->
<!--            if(val>=48 && val<=57)-->
<!--                digits = true;-->
<!--        }-->
<!--        if(upperCase && lowerCase && digits)-->
<!--            return true;-->
<!--        return false;-->
<!--    }-->

<!--    $("#fadsf").on('change',function(e){-->
<!--        if(this.value.search("^[\\w.]+@\\w+\\.\\w+$")){-->
<!--            $(this).removeClass("is-invalid");-->
<!--            $(this).addClass("is-valid");-->
<!--            $("#hint_id_password").addClass("text-muted");-->
<!--            $("#hint_id_password").removeClass("text-danger");-->
<!--        }-->
<!--        else{-->
<!--            $(this).addClass("is-invalid");-->
<!--            $(this).removeClass("is-valid");-->
<!--            $("#hint_id_password").removeClass("text-muted");-->
<!--            $("#hint_id_password").addClass("text-danger");-->
<!--        }-->
<!--    });-->


<!--    var help = $("#help_password");-->
<!--    $("#id_password").on('keyup',function(e){-->
<!--        if(validPassword(this.value)){-->
<!--            $(this).removeClass("is-invalid");-->
<!--            $(this).addClass("is-valid");-->
<!--            $("#hint_id_password").addClass("text-muted");-->
<!--            $("#hint_id_password").removeClass("text-danger");-->
<!--        }-->
<!--        else{-->
<!--            $(this).addClass("is-invalid");-->
<!--            $(this).removeClass("is-valid");-->
<!--            $("#hint_id_password").removeClass("text-muted");-->
<!--            $("#hint_id_password").addClass("text-danger");-->
<!--        }-->
<!--    });-->

<!--    $("#id_username").on('keyup',function(e){-->
<!--        if(this.value.length < 1 || this.value.search("[^\\w]")!=-1){-->
<!--            $(this).addClass('is-invalid');-->
<!--            $(this).removeClass("is-valid");-->
<!--            $("#hint_id_username").removeClass("text-muted");-->
<!--            $("#hint_id_username").addClass("text-danger");-->
<!--        }-->
<!--        else{-->
<!--            $("#hint_id_username").addClass("text-muted");-->
<!--            $("#hint_id_username").removeClass("text-danger");-->
<!--            $(this).removeClass('is-invalid');-->
<!--            $(this).addClass("is-valid");-->
<!--        }-->
<!--    });-->

<!--&lt;!&ndash;    $("#id_username").on("change",function(){&ndash;&gt;-->
<!--&lt;!&ndash;        console.log("Hi");&ndash;&gt;-->
<!--&lt;!&ndash;        $.ajax({&ndash;&gt;-->
<!--&lt;!&ndash;            data:{"username":"admin"},&ndash;&gt;-->
<!--&lt;!&ndash;            method:"get",&ndash;&gt;-->
<!--&lt;!&ndash;            url:"http://localhost:8000/testing",&ndash;&gt;-->
<!--&lt;!&ndash;            success:function(data){&ndash;&gt;-->
<!--&lt;!&ndash;                if(data["status"]){&ndash;&gt;-->
<!--&lt;!&ndash;                    console.log("hi333");&ndash;&gt;-->
<!--&lt;!&ndash;                }&ndash;&gt;-->
<!--&lt;!&ndash;                else{&ndash;&gt;-->
<!--&lt;!&ndash;                console.log("hi2222");&ndash;&gt;-->
<!--&lt;!&ndash;                    $("#hint_id_username").prepend("<p style='color:red'>username already exists</p>");&ndash;&gt;-->
<!--&lt;!&ndash;                }&ndash;&gt;-->
<!--&lt;!&ndash;            }&ndash;&gt;-->
<!--&lt;!&ndash;        });&ndash;&gt;-->
<!--&lt;!&ndash;    });&ndash;&gt;-->


<!--</script>-->
{% endblock %}